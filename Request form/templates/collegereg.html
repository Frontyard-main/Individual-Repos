<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Register</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.6/sweetalert2.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.6/sweetalert2.css">
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.29.2/sweetalert2.all.js"></script>
<style>
.register-form {
    width: 340px;
    margin: 50px auto;
}
.register-form form {
    border-radius: 25px;        
    margin-bottom: 15px;
    background: #f7f7f7;
    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    padding: 30px;
}
.register-form h2 {
    margin: 0 0 15px;
}
.form-control, .btn {
    min-height: 38px;
    border-radius: 2px;
}
.input-group-addon .fa {
    font-size: 18px;
}
.btn {        
    font-size: 15px;
    font-weight: bold;
}
.bottom-action {
  	font-size: 14px;
}
.register {
    border-radius: 25px;      
    width: 340px;
    margin: 50px auto;  
    margin-bottom: 15px;
    background: #f7f7f7;
    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    padding: 30px;
}
#input-wrapper * {
  position: absolute;
}

#input-wrapper label {
  z-index: 99;
  line-height: 25px;
  padding: 2px;
  margin-left: 5px;
}
</style>
</head>
<body>
<div class="register-form">
    <form action="verification" method="post">
        <h2 class="text-center">Sign Up</h2>
        <h1 class="text-center"><i class="fa fa-users" aria-hidden="true"></i></h1><br>
        <div class="form-group">
            <select class="form-control" id="exampleFormControlSelect1" name="College_Name">
              <option value="" selected disabled>Select Institution</option>
              <option>Coimbatore Institute of Technology</option>
              <option>PSG Institute of Technology</option>
              <option>Kumaraguru College of Technology</option>
              <option>Shri Krishna College of Engineering</option>
              <option>PSG College of Arts</option>
              <option>KONGU</option>
              <option>Gct</option>
              <option>ksr</option>
              <option>SSN</option>
              <option>SVN</option>
              <option>Loyala</option>
            </select>
        </div>
        <div class="form-group">
        	<div class="input-group">
                <input type="text" name="Reason_for_Prefering_us"class="form-control" placeholder="Reason for Prefering us" required="required" id="txt">
            </div>
        </div>    
        
        <div class="form-group">
        	<div class="input-group" >
                <input class="form-control" id="date" name="Tentative_Start_Date" placeholder="Tentative Start Date" type="text"/>
            </div>
        </div>  
        <div class="form-group">
        	<div class="input-group">
                <input class="form-control" id="date" name="Tentative_End_Date" placeholder="Tentative End Date" type="text"/>
            </div>
        </div>  
        <div class="form-group">
        	<div class="input-group">
                <input class="form-control" id="text" name="Approximate_No_of_Students" placeholder="Approximate No of Students" type="text"/>
            </div>
        </div> 
        <div class="form-group">
        	<div class="input-group">
                <input class="form-control" id="txtEmail" name="Point_of_Contact_Mail" placeholder="Point of Contact Mail" type="email"/>
            </div>
        </div> 
        <div class="form-group">
        	<div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        +91
                    </span>                    
                </div>
                <input type="tel" name="Point_of_Contact" class="form-control" placeholder="Point of Contact" required="required" pattern="[0-9]{10}">
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block" id="btnValidate">Register</button>
        </div>     
    </form>
    {% if flag %}
    <p style="color:Tomato;" >Requested</p><br />
    <P>"Hey!Thanks for Registering,we are happy to work with you.Please keep checking your mail for login details,we will be sending you.Keep in update"</P>
    {% endif %}
    {% if flag1 %}
    <p style="color:Tomato;" >Not Requested yet</p>
    <p>"Hey!Thanks for choosing us.We could see your Insttution  that was provided is already registered. Could please contact <br>
     <p style="color:Tomato;" > {{mail}} </p>
     <p>to get the login details for your institution</p>
    {% endif %}
    <p class="text-center small">Institution already registered? <a href="http://127.0.0.1:5000/login">Click here</a>.</p>
</div>
<script>
    $(document).ready(function(){
      var date_input=$('input[name="Tentative_Start_Date"]'); //our date input has the name "date"
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        format: 'mm/dd/yyyy',
        container: container,
        todayHighlight: true,
        autoclose: true,
      };
      date_input.datepicker(options);
    })
    $(document).ready(function(){
      var date_input=$('input[name="Tentative_End_Date"]'); //our date input has the name "date"
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        format: 'mm/dd/yyyy',
        container: container,
        todayHighlight: true,
        autoclose: true,
      };
      date_input.datepicker(options);
    })
    $(document).ready(function(e) {
    $('#btnValidate').click(function() {
    var sEmail = $('#txtEmail').val();
    if (validateEmail(sEmail)) {
    alert('Nice!! your Email is valid, now you can continue..');
    }
    else {
    alert('Invalid Email Address');
    e.preventDefault();
    }
    });
    });
    // Function that validates email address through a regular expression.
    function validateEmail(sEmail) {
    var filter = new RegExp("^[w-.+]+@[a-zA-Z0-9.-]+.[a-zA-z0-9]{2,4}$");
    if (filter.test(sEmail)) {
    return true;
    }
    else {
    return false;
    }
    }
    function success_message(){
    sweetAlert({
      position: 'top-end',
  type: 'success',
  title: 'Email Sent',
  text:'Please Check your Mail and  follow link for completing the Registration',
  showConfirmButton: false
    });
    }
   function error_message(){
    sweetAlert({
      position: 'top-end',
  type: 'error',
  title: 'User already exists',
  text:'Please enter a New Mail id or Login',
  showConfirmButton: false
    });
    }
</script>

</body>
</html>
